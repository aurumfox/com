<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaFox DAO - Unified Platform</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/buffer/6.0.3/buffer.min.js"></script>
    <script>window.Buffer = window.buffer.Buffer;</script>
    <script src="https://unpkg.com/@solana/web3.js@1.95.3/lib/index.iife.min.js"></script>
    <script src="https://unpkg.com/@project-serum/anchor@0.26.0/dist/browser.anchor.min.js"></script>
    <script src="https://bundle.run/@solana/wallet-adapter-phantom@0.9.24"></script>

    <style>
        :root { --gold: #f0b90b; --bg: #0b0b0e; --card: rgba(255, 255, 255, 0.05); --border: rgba(255, 255, 255, 0.1); }
        body { background: var(--bg); color: #fff; font-family: 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; overflow-x: hidden; }
        
        .container { max-width: 1200px; margin: 0 auto; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; }
        
        /* Сетка блоков */
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-top: 30px; }
        .glass-panel { background: var(--card); border: 1px solid var(--border); border-radius: 24px; padding: 25px; backdrop-filter: blur(12px); }
        
        h2 { color: var(--gold); font-weight: 300; letter-spacing: 1px; margin-top: 0; }
        
        /* Кнопки и Инпуты */
        .btn { background: var(--gold); color: #000; border: none; padding: 14px; border-radius: 12px; font-weight: bold; cursor: pointer; transition: 0.3s; width: 100%; margin: 5px 0; }
        .btn:hover { box-shadow: 0 0 20px rgba(240, 185, 11, 0.4); transform: translateY(-2px); }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid var(--border); }
        
        input, select { background: rgba(0,0,0,0.3); border: 1px solid var(--border); color: #fff; padding: 12px; border-radius: 10px; width: 100%; margin-bottom: 10px; box-sizing: border-box; }
        
        /* Инфо-панель */
        .stats { background: rgba(0,0,0,0.2); border-radius: 15px; padding: 15px; margin-bottom: 20px; }
        .stat-row { display: flex; justify-content: space-between; margin: 8px 0; font-size: 14px; }
        .stat-val { color: var(--gold); font-weight: 600; }

        /* Уведомления */
        #notification-container { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
        .notification { background: #1a1a1f; color: white; padding: 15px 25px; border-radius: 12px; border-left: 4px solid var(--gold); margin-top: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }

        #page-loader { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); display:none; z-index:9999; justify-content:center; align-items:center; }
    </style>
</head>
<body>

<div id="page-loader"><h2>Processing...</h2></div>
<div id="notification-container"></div>

<div class="container">
    <header>
        <h1>AlphaFox <span style="font-weight:100">DAO</span></h1>
        <div style="display: flex; align-items: center; gap: 15px;">
            <div id="walletAddress" class="wallet-address-display" style="font-family: monospace; color: var(--gold);"></div>
            <button class="btn connect-wallet-btn" style="width: auto; padding: 10px 20px;">Connect Wallet</button>
        </div>
    </header>

    <div class="dashboard-grid">
        <div class="glass-panel">
            <h2>Staking Portal</h2>
            <div class="stats">
                <div class="stat-row">Your Balance: <span id="user-afox-balance" class="stat-val">0 AFOX</span></div>
                <div class="stat-row">Staked: <span id="user-staked-amount" class="stat-val">0 AFOX</span></div>
                <div class="stat-row">Rewards: <span id="user-rewards-amount" class="stat-val">0 AFOX</span></div>
                <div class="stat-row">Current APR: <span id="staking-apr" class="stat-val">—</span></div>
                <div class="stat-row">Lock Period: <span id="lockup-period" class="stat-val">—</span></div>
            </div>
            
            <label>Select Pool</label>
            <select id="pool-selector"></select>
            
            <label>Amount</label>
            <input type="number" id="stake-amount" placeholder="0.00">
            
            <button id="stake-afox-btn" class="btn">Stake AFOX</button>
            <div style="display:flex; gap:10px;">
                <button id="claim-rewards-btn" class="btn btn-secondary">Claim</button>
                <button id="unstake-afox-btn" class="btn btn-secondary">Unstake</button>
            </div>
        </div>

        <div class="glass-panel">
            <h2>Fast Swap</h2>
            <div class="stats">
                <div class="stat-row">From: 
                    <select id="swap-from-token" style="width: 80px; margin:0;">
                        <option value="SOL">SOL</option>
                        <option value="AFOX">AFOX</option>
                    </select>
                </div>
                <input type="number" id="swap-from-amount" placeholder="0.0">
                <div class="stat-row">Balance: <span id="swap-from-balance" class="stat-val">0</span></div>
            </div>

            <div style="text-align:center; margin: -15px 0;">
                <button id="swap-direction-btn" style="background:none; border:none; color:var(--gold); font-size:24px; cursor:pointer;">⇅</button>
            </div>

            <div class="stats">
                <div class="stat-row">To:
                    <select id="swap-to-token" style="width: 80px; margin:0;">
                        <option value="AFOX">AFOX</option>
                        <option value="SOL">SOL</option>
                    </select>
                </div>
                <input type="number" id="swap-to-amount" readonly placeholder="Result">
            </div>

            <div class="stat-row" style="font-size:12px;">Price Impact: <span id="price-impact">0%</span></div>
            <button id="get-quote-btn" class="btn btn-secondary">Get Quote</button>
            <button id="execute-swap-btn" class="btn" style="display:none;">Confirm Swap</button>
        </div>

        <div class="glass-panel">
            <h2>My Collection</h2>
            <div id="user-nft-list" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; max-height: 300px; overflow-y: auto;">
                </div>
            <button id="mint-nft-btn" class="btn btn-secondary" style="margin-top:15px;">Mint AlphaFox NFT</button>
        </div>
    </div>
</div>

<script>
    // ВСТАВЬ ТВОЙ КОД НИЖЕ (ОТ ПЕРВОЙ СТРОКИ ДО ПОСЛЕДНЕЙ)
    // Я уже адаптировал все ID, чтобы они работали с этим HTML.
    
    // ТВОЙ КОД НАЧИНАЕТСЯ ЗДЕСЬ:
    
</script>

</body>
</html>
