<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurum Fox Portal: Web3 & Multimedia Ecosystem on Solana</title>
    <meta name="description" content="Official portal of the Aurum Fox meme coin. Explore Web3 features (Games, NFTs, Advertising, DAO, Staking, Swaps) and a multimedia hub (Photos, Posts, Mini-Games). Your gateway to the AFOX ecosystem on Solana.">
    <meta name="keywords" content="Aurum Fox, AFOX, Solana, meme coin, Web3, NFT, DAO, Staking, Crypto Games, Decentralized Advertising, DeFi, Blockchain, SPL Token, Raydium, Orca, Phantom Wallet">
    <meta name="author" content="Aurum Fox Community">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aurumfox.github.io/com/"> 
    <meta property="og:title" content="Aurum Fox Portal: Web3 & Multimedia Ecosystem on Solana">
    <meta property="og:description" content="Official portal of the Aurum Fox meme coin. Explore Web3 features (Games, NFTs, Advertising, DAO, Staking, Swaps) and a multimedia hub. Your gateway to the AFOX ecosystem on Solana.">
    <meta property="og:image" content="./assets/foxcoin-hero.png.jpg"> 
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://aurumfox.github.io/com/"> 
    <meta property="twitter:title" content="Aurum Fox Portal: Web3 & Multimedia Ecosystem on Solana">
    <meta property="twitter:description" content="Official portal of the Aurum Fox meme coin. Explore Web3 features (Games, NFTs, Advertising, DAO, Staking, Swaps) and a multimedia hub. Your gateway to the AFOX ecosystem on Solana.">
    <meta property="twitter:image" content="./assets/foxcoin-hero.png.jpg"> 
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./assets/favicon.png.jpg" type="image/png.jpg">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Poppins:wght%40300;400;600&display=swap" rel="stylesheet">
    
    <style>
        /* Style for the AI Diagnostic module, integrated with the Aurum Fox theme */
        .ai-insights-module {
            /* ... (Other styles remain unchanged) ... */
        }
        /* ... (The rest of the styles remain unchanged) ... */
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="./assets/foxcoin-hero.png.jpg" alt="Aurum Fox Logo" class="logo-img">
                <span class="logo-text">Aurum Fox Portal</span>
            </div>
            <nav class="nav">
                <div id="menuToggle" class="menu-toggle" aria-controls="mainNav" aria-expanded="false" role="button" tabindex="0" aria-label="Toggle navigation menu">
                    <div class="hamburger"></div>
                </div>
                <ul id="mainNav" class="main-nav" role="navigation" aria-hidden="true">
                    <span class="close-menu-button" id="closeMainMenuCross" role="button" tabindex="0" aria-label="Close menu">&times;</span>

                    <li><a href="#aurum-fox-home">Aurum Fox</a></li>
                    <li><a href="#about-afox">About AFOX</a></li>
                    <li><a href="#tokenomics">Tokenomics</a></li>
                    <li><a href="#how-to-buy">Acquire AFOX</a></li>
                    <li><a href="#aurum-nfts">Aurum NFTs</a></li>
                    <li><a href="#aurum-nfc">Aurum NFC</a></li>
                    <li><a href="#aurum-roadmap">Roadmap</a></li>
                    <li><a href="#aurum-news">News</a></li>
                    <li><a href="#aurum-announcements">Announcements</a></li>
                    <li><a href="#aurum-community">Community</a></li>
                    <li><a href="#contact-us">Contact Us</a></li>
                    
                    <li class="nav-separator">--- Web3 Portal ---</li> 
                    <li><a href="#web3-site-home">Web3 Overview</a></li>
                    <li><a href="#games-section">Games</a></li>
                    <li><a href="#nft-section">NFT Portal</a></li>
                    <li><a href="#ads-section">Advertising</a></li>
                    <li><a href="#dao-section">DAO</a></li>
                    <li><a href="#staking-section">Staking</a></li>
                    <li><a href="#swap-section">Swap</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        ```

---

### üåê Translated Content Sections

```html
        <section id="aurum-fox-home" class="hero-section aurum-fox-section">
            <div class="container">
                <div class="hero-content">
                    <h1>Aurum Fox: Your Golden Luck on Solana!</h1>
                    <p class="tagline intro-text">Combining the cunning of the fox, the prosperity of gold, and the speed of Solana.</p>
                    <div class="hero-buttons call-to-action">
                        <a href="#how-to-buy" class="btn btn-primary primary-btn">Get AFOX</a>
                        <a href="#aurum-community" class="btn btn-secondary secondary-btn">Join the Community</a>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="./assets/foxcoin-hero.png.jpg" alt="Aurum Fox golden coin with fox image and 'Aurum Fox' text">
                </div>
            </div>
        </section>

        <section id="about-afox" class="section aurum-fox-section-alt">
            <div class="container">
                <h2 class="aurum-heading">About Our AURUM FOX (AFOX) Meme Token</h2>
                <p>Welcome to the world of <strong>AURUM FOX!</strong> We are a new, fully decentralized meme token, created by the community and for the community. Our goal is to create a fun, dynamic, and truly community-driven meme token on the Solana blockchain.</p>
                <p><strong>AURUM FOX</strong> is a meme token presented as a golden coin with a cute cartoon fox image and the inscription "AURUM FOX". Its name combines the Latin "Aurum" (gold), symbolizing value, and "Fox" ‚Äì a popular image for creating viral brands in the meme token space.</p>
                <p>We believe in transparency and fairness. All permissions for <strong>minting</strong> (creating new tokens) and <strong>freezing</strong> (locking existing tokens) have been **irrevocably revoked**. This ensures a fixed total supply and the inability to lock your assets. No one, not even the creators, can issue new tokens or interfere with your holdings. AURUM FOX (AFOX) is a 100% community-governed meme token.</p>
            </div>
        </section>

        <section id="tokenomics" class="section aurum-fox-section">
            <div class="container">
                <h2 class="aurum-heading">Aurum Fox Tokenomics</h2>
                <div class="tokenomics-grid tokenomics-details">
                    <div class="tokenomics-item">
                        <h3>Total Supply</h3>
                        <p class="highlight">10,000,000 AFOX</p>
                        <p>A limited and fixed supply ensures the scarcity of Aurum Fox (AFOX).</p>
                        <p class="highlight-text-small"><strong>Minting rights revoked</strong></p>
                        <p class="highlight-text-small"><strong>Freezing rights revoked</strong></p>
                        <p>This demonstrates our commitment to decentralization and security for all holders.</p>
                    </div>
                    <div class="tokenomics-item">
                        <h3>Vesting Schedule</h3>
                        <p>To ensure long-term stability and prevent market manipulation, a portion of the supply will be released according to the following vesting schedule:</p>
                        <div class="table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Vesting Period</th>
                                        <th>Release Percentage</th>
                                        <th>AFOX Unlocked</th>
                                        <th>Start Date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Period 1</td>
                                        <td>20%</td>
                                        <td>1,800,000 AFOX</td>
                                        <td>June 23, 2027, 12:00 PM</td>
                                    </tr>
                                    <tr>
                                        <td>Period 2</td>
                                        <td>20%</td>
                                        <td>1,800,000 AFOX</td>
                                        <td>June 24, 2029, 12:00 PM</td>
                                    </tr>
                                    <tr>
                                        <td>Period 3</td>
                                        <td>20%</td>
                                        <td>1,800,000 AFOX</td>
                                        <td>June 25, 2031, 12:00 PM</td>
                                    </tr>
                                    <tr>
                                        <td>Period 4</td>
                                        <td>20%</td>
                                        <td>1,800,000 AFOX</td>
                                        <td>June 26, 2033, 12:00 PM</td>
                                    </tr>
                                    <tr>
                                        <td>Period 5</td>
                                        <td>20%</td>
                                        <td>1,800,000 AFOX</td>
                                        <td>June 27, 2035, 12:00 PM</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div id="aiPriceForecast" class="ai-forecast-container" style="margin-top: 20px; padding: 15px; border: 1px solid #ffd700; border-radius: 8px; background-color: #333; color: #fff;">
                    <h3 style="color: #ffd700; margin-top: 0; font-size: 1.2em;">ü¶ä AI Price Forecast (Beta)</h3>
                    <p>Based on current market sentiment and volume analysis, the AI projects a **15% upward trend** in the next 72 hours.</p>
                    <p style="font-size: 0.9em; opacity: 0.8;">Disclaimer: This is an automated prediction, not financial advice. DYOR.</p>
                </div>
                <div class="contract-address">
                    <p><strong>AFOX Contract Address:</strong> <span id="contractAddress" class="highlight-text">GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd</span> <button class="copy-btn" aria-label="Copy AFOX contract address">Copy</button></p>
                </div>
                <p class="tokenomics-note">Our tokenomics are designed for long-term sustainability and community growth.</p>
            </div>
        </section>

        <section id="how-to-buy" class="section aurum-fox-section-alt">
            <div class="container">
                <h2 class="aurum-heading">How to Acquire Aurum Fox (AFOX)</h2>
                <p>There are several ways to become part of our community and get AURUM FOX (AFOX):</p>
                <ol class="buy-steps how-to-list">
                    <li>
                        <h3>Step 1: Participate in Airdrops</h3>
                        <p>Follow our official channels to stay informed about upcoming airdrop announcements. Participate in community events for a chance to get free tokens!</p>
                    </li>
                    <li>
                        <h3>Step 2: Get a Solana Wallet</h3>
                        <p>You'll need a wallet that supports the Solana network, such as <a href="https://phantom.app/" target="_blank" rel="noopener noreferrer">Phantom</a>, <a href="https://solflare.com/" target="_blank" rel="noopener noreferrer">Solflare</a>. Install it as a browser extension or mobile application.</p>
                    </li>
                    <li>
                        <h3>Step 3: Fund Your Wallet with SOL</h3>
                        <p>Buy SOL (Solana) on any major centralized exchange (Binance, Coinbase, Bybit, etc.) and send it to the address of your chosen Solana wallet.</p>
                    </li> 
                    <li>
                        <h3>Step 4: Go to a DEX and Swap SOL for AFOX</h3>
                        <p>Use a Solana Decentralized Exchange (DEX) such as <a href="https://raydium.io/swap/" target="_blank" rel="noopener noreferrer">Raydium</a> or <a href="https://www.orca.so/swap" target="_blank" rel="noopener noreferrer">Orca</a> to swap SOL for AFOX.</p>
                        <p>On the swap page, paste the AFOX contract address (<span class="highlight-text">GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd</span>) into the field for the token you want to receive. Confirm the transaction in your wallet.</p>
                        <p>Or use aggregators for more accurate coin information:</p>
                        <ul>
                            <li><a href="https://www.geckoterminal.com/solana/pools/FxkhmwaB144YDemgrfX4K5W2Jotz8YXaFpkMD4Pa9JKz" target="_blank" rel="noopener noreferrer">GeckoTerminal</a></li>
                            <li><a href="https://www.dextools.io/app/solana/pair-explorer/FxkhmwaB144YDemgrfX4K5W2Jotz8YXaFpkMD4Pa9JKz" target="_blank" rel="noopener noreferrer">DEXTools</a></li>
                            <li><a href="https://birdeye.so/pool/FxkhmwaB144YDemgrfX4K5W2Jotz8YXaFpkMD4Pa9JKz?chain=solana" target="_blank" rel="noopener noreferrer">Birdeye</a></li>
                            <li><a href="https://gmgn.ai/sol/token/solscan_GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd?filter=All" target="_blank" rel="noopener noreferrer">GMGN.AI</a></li>
                             <li><a href="https://dexscreener.com/solana/GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd" target="_blank" rel="noopener noreferrer">Dexscreener</a></li>
                            <li><a href="https://photon-sol.tinyastro.io/en/lp/FxkhmwaB144YDemgrfX4K5W2Jotz8YXaFpkMD4Pa9JKz" target="_blank" rel="noopener noreferrer">Photon Solana LP</a></li>
                        </ul>
                    </li>
                </ol>
                <p class="tip">Make sure you have enough SOL to cover network fees.</p>
                <p class="tip"><i>Liquidity pool link will be available soon!</i></p>
                <button class="web3-btn" aria-label="Trade AFOX on Raydium">Trade AFOX on Raydium</button>
            </div>
        </section>

        <section id="aurum-nfts" class="section aurum-fox-section">
            <div class="container">
                <h2 class="aurum-heading">Aurum Fox NFT: Unleashing Digital Treasures</h2>
                <p>Beyond being a meme token, Aurum Fox aims to delve into the exciting world of Non-Fungible Tokens (NFTs). Our vision includes creating exclusive Aurum Fox NFT collections that embody the spirit of luck, prosperity, and the cunning of the fox.</p>
                <ul>
                    <li>Exclusive access to community events or channels.</li>
                    <li>Staking opportunities to earn additional AFOX tokens.</li>
                    <li>Participation in governance or decision-making for future projects.</li>
                    <li>Unique artworks celebrating the Aurum Fox brand.</li>
                </ul>
                <div class="nft-showcase">
                    <div class="nft-card">
                        <img src="https://via.placeholder.com/150/ffd700/000000?text=AFOX+NFT+1" alt="Aurum Fox Genesis NFT #001, rare first edition">
                        <h4>Aurum Fox Genesis #001</h4>
                        <p>Rare first edition collectible.</p>
                    </div>
                    <div class="nft-card">
                        <img src="https://via.placeholder.com/150/c0c0c0/000000?text=AFOX+NFT+2" alt="Aurum Fox Guardian NFT #002, grants staking bonus">
                        <h4>Aurum Fox Guardian #002</h4>
                        <p>Grants staking bonus.</p>
                    </div>
                </div>
                <p>A dedicated portion of our tokenomics is directed to the "NFT Fund" to support the development, marketing, and expansion of these future NFT projects. Stay tuned for announcements of our first official Aurum Fox NFT collection!</p>
                <button class="web3-btn" aria-label="View NFT Collection on Magic Eden">View Collection on Magic Eden</button>
            </div>
        </section>

        <section id="aurum-nfc" class="section aurum-fox-section-alt">
            <div class="container">
                <h2 class="aurum-heading">ü¶ä Aurum Fox NFC: Interactive Future</h2>
                <p>Dive into a new level of interaction with Aurum Fox! We are exploring the possibilities of Near Field Communication (NFC) to create a seamless connection between our digital assets and the real world.</p>

                <div class="nfc-grid">
                    <div class="nfc-item">
                        <h3>AFOX NFT Authenticity</h3>
                        <img src="https://via.placeholder.com/150?text=NFT+NFC+Scan" alt="Smartphone scanning an NFC tag on an NFT collectible" class="nfc-icon">
                        <p>Verify the authenticity of your physical Aurum Fox NFT collectibles using NFC. Simply tap your smartphone to an NFC-chipped item to instantly check its blockchain status and receive exclusive information.</p>
                    </div>
                    <div class="nfc-item">
                        <h3>Exclusive Access and Events</h3>
                        <img src="https://via.placeholder.com/150?text=Event+NFC" alt="Smartphone tapping an NFC tag for event access" class="nfc-icon">
                        <p>Use NFC tags to gain access to private community meetups, airdrops, or unique content. Your physical presence unlocks digital doors!</p>
                    </div>
                    <div class="nfc-item">
                        <h3>Interactive Advertising</h3>
                        <img src="https://via.placeholder.com/150?text=Ad+NFC+Tap" alt="Person tapping phone to an ad with NFC" class="nfc-icon">
                        <p>Advertisers can integrate NFC into their campaigns. Tap a physical NFC tag to be directed to interactive ads, special offers, or partner promotions directly on our portal.</p>
                    </div>
                </div>
                <p class="nfc-note"><i>Note: NFC functionality is under development and will be implemented in future roadmap phases.</i></p>
            </div>
        </section>

        <section id="aurum-roadmap" class="section aurum-fox-section">
            <div class="container">
                <h2 class="aurum-heading">Aurum Fox Roadmap</h2>
                <div class="roadmap-grid">
                    <div class="roadmap-item">
                        <h3>Phase 1: Launch and Awareness (Completed)</h3>
                        <ul>
                            <li>Development and deployment of the AFOX token on Solana.</li>
                            <li>Creation and launch of the liquidity pool.</li>
                            <li>Launch of official social channels (Twitter, Telegram, Discord).</li>
                            <li>First wave of memes and viral content.</li>
                            <li><strong>Minting rights revoked.</strong></li>
                            <li><strong>Freezing rights revoked.</strong></li>
                        </ul>
                    </div>
                    <div class="roadmap-item">
                        <h3>Phase 2: Community Growth and Visibility</h3>
                        <ul>
                            <li>Launch of the official Aurum Fox website (current stage).</li>
                            <li>Application for listing on CoinGecko and CoinMarketCap.</li>
                            <li>Expansion of marketing campaigns and influencer collaborations.</li>
                            <li>Hosting meme contests and airdrops for active participants.</li>
                        </ul>
                    </div>
                    <div class="roadmap-item">
                        <h3>Phase 3: Innovation and Expansion</h3>
                        <ul>
                            <li><strong>Launch of unique Aurum Fox NFT collections.</strong></li>
                            <li>Exploration of utility functions for Aurum Fox NFTs.</li>
                            <li>Potential partnerships with other Solana projects.</li>
                            <li>Development of gaming or additional utility features for AFOX (based on community demand).</li>
                            <li>Preparation for potential listings on Centralized Exchanges (CEX).</li>
                            <li>Implementation of DAO and governance.</li>
                            <li>Development of a staking platform.</li>
                            <li>Gaming integrations.</li>
                            <li>Multimedia portal enhancements.</li>
                            <li>NFC utility development.</li>
                            <li>Cross-chain research.</li>
                        </ul>
                    </div>
                </div>
                <p class="roadmap-disclaimer"><i>Note: The Aurum Fox roadmap is dynamic and may be adjusted based on market conditions and community feedback.</i></p>
            </div>
        </section>

        <section id="aurum-news" class="section aurum-fox-section-alt">
            <div class="container">
                <h2 class="aurum-heading">Aurum Fox News and Updates</h2>
                <div class="news-content news-list">
                    <div class="news-item">
                        <h4>Loading News...</h4>
                        <p>Please wait while we fetch the latest updates in real-time.</p>
                        <small>--</small>
                    </div>
                </div>
            </div>
        </section>

        <section id="aurum-announcements" class="section aurum-fox-section">
            <div class="container">
                <h2 class="aurum-heading">Aurum Fox Announcements</h2>
                <div class="admin-announcement-section">
                    <h3>Publish New Announcement (Admin Only)</h3>
                    <textarea id="announcementInput" placeholder="Enter your new announcement here..." aria-label="New announcement text input"></textarea>
                    <button id="publishButton" aria-label="Publish announcement">Publish Announcement</button>
                </div>
                <hr>
                <h3>Published Announcements</h3>
                <div id="announcementsList" class="announcements-list">
                    <div class="announcement-item">
                        <h4>Loading Announcements...</h4>
                        <p>Real-time updates are loading.</p>
                        <small>--</small>
                    </div>
                </div>
            </div>
        </section>

        <section id="aurum-community" class="section aurum-fox-section-alt">
            <div class="container">
                <h2 class="aurum-heading">Join the AFOX Community!</h2>
                <p>Become part of our rapidly growing and friendly community. Together, we will build something special and share the luck of Aurum Fox!</p>
                </div>
        </section>

        <section id="contact-us" class="section contact-section">
            <div class="container">
                <h2 class="main-heading">Contact Us</h2>
                <p>Questions or suggestions? Contact us!</p>
                <div class="contact-info">
                    <p><strong>General Inquiries:</strong> <a href="mailto:info@aurumfox.com">info@aurumfox.com</a></p>
                    <p><strong>Partnerships:</strong> <a href="mailto:partnerships@aurumfox.com">partnerships@aurumfox.com</a></p>
                    <p><strong>AFOX Contract Address:</strong> <span class="highlight-text">GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd</span> <button class="copy-btn" aria-label="Copy AFOX contract address from contact section">Copy</button></p>
                </div>
                <form id="contactForm" class="contact-form">
                    <label for="contact-name">Your Name:</label>
                    <input type="text" id="contact-name" name="name" required aria-required="true">

                    <label for="contact-email">Your Email:</label>
                    <input type="email" id="contact-email" name="email" required aria-required="true">

                    <label for="contact-subject">Subject:</label>
                    <input type="text" id="contact-subject" name="subject">

                    <label for="contact-message">Message:</label>
                    <textarea id="contact-message" name="message" rows="5" required aria-required="true"></textarea>

                    <button type="submit" class="btn btn-primary primary-btn" aria-label="Send contact message">Send Message</button>
                </form>
                <p class="disclaimer"><i>Disclaimer: Aurum Fox (AFOX) is a meme token. The cryptocurrency market is highly volatile, and investments in meme tokens carry high risks. Always conduct your own research (DYOR).</i></p>
            </div>
        </section>

        <section id="web3-site-home" class="section web3-section-alt">
            <div class="container">
                <h2 class="web3-heading">üéÆ My Web3 Portal</h2>
                <p class="web3-intro">Explore decentralized games, manage your NFTs, and discover Web3 advertising opportunities.</p>
                <button id="connectWalletBtnWeb3" class="web3-btn" aria-label="Connect wallet to Web3 Portal">Connect Wallet</button>
                <p class="web3-wallet-display">Your Wallet Address: <span id="walletAddressDisplayWeb3">Not Connected</span></p>
                <div class="web3-features-grid">
                    <div class="feature-card">
                        <h3>üéÆ Games</h3>
                        <p>Explore blockchain games and earn rewards.</p>
                        <a href="#games-section" class="web3-link">Go to Games</a>
                    </div>
                    <div class="feature-card">
                        <h3>üñºÔ∏è NFTs</h3>
                        <p>Browse your NFT collections, mint new ones, and explore marketplaces.</p>
                        <a href="#nft-section" class="web3-link">Explore NFTs</a>
                    </div>
                    <div class="feature-card">
                        <h3>üì¢ Ads</h3>
                        <p>Place and view decentralized advertisements.</p>
                        <a href="#ads-section" class="web3-link">View Ads</a>
                    </div>
                     <div class="feature-card">
                        <h3>üèõÔ∏è DAO</h3>
                        <p>Participate in governance and vote on proposals.</p>
                        <a href="#dao-section" class="web3-link">Go to DAO</a>
                    </div>
                    <div class="feature-card">
                        <h3>üí∞ Staking</h3>
                        <p>Stake your AFOX tokens to earn passive income.</p>
                        <a href="#staking-section" class="web3-link">Start Staking</a>
                    </div>
                     <div class="feature-card">
                        <h3>üîÑ Swap</h3>
                        <p>Exchange AFOX for other tokens easily.</p>
                        <a href="#swap-section" class="web3-link">Go to Swap</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="games-section" class="section web3-section">
            <div class="container">
                <h2 class="web3-heading">üïπÔ∏è Games</h2>
                <p>This section will display user-uploaded games.</p>
                <button id="uploadGameBtnWeb3" class="web3-btn" aria-label="Upload a new game">Upload New Game</button>
                <div id="game-list" class="content-area web3-content-area games-grid">
                    <p class="web3-placeholder">Loading Games...</p>
                </div>
                <button id="loadMoreGamesBtn" class="web3-btn" aria-label="Load More Games">Load More Games</button>
            </div>
        </section>

        <section id="nft-section" class="section web3-section-alt">
            <div class="container">
                <h2 class="web3-heading">üñºÔ∏è NFT Collections</h2>
                <p>Manage your NFTs directly from the website!</p>

                <button id="connectWalletNftBtn" class="web3-btn" aria-label="Connect wallet to NFT section">Connect Wallet</button>
                <p class="web3-wallet-display">Your Wallet Address: <span id="walletAddressDisplayNft">Not Connected</span></p>

                <div class="nft-actions">
                    <button id="viewMyNftsBtn" class="web3-btn" aria-label="View my NFTs">View My NFTs</button>
                    <button id="mintNftBtn" class="web3-btn" aria-label="Mint a new NFT">Mint New NFT</button>
                </div>

                <h3 class="web3-subheading">Your NFTs:</h3>
                <div id="user-nft-list" class="content-area web3-content-area nft-grid">
                    <p class="placeholder-item web3-placeholder">Connect your wallet to see your NFTs.</p>
                </div>

                <h3 class="web3-subheading">List your NFT for sale:</h3>
                <div class="nft-form-container">
                    <form id="listNftForm" class="web3-form">
                        <label for="nftToSell">Select NFT to sell:</label>
                        <select id="nftToSell" name="nftToSell" required aria-required="true">
                            <option value="">-- Please select an NFT --</option>
                            </select>

                        <label for="salePrice">Sale Price (SOL):</label>
                        <input type="number" id="salePrice" name="salePrice" step="0.000001" min="0.000001" placeholder="e.g., 0.5" required aria-required="true">

                        <label for="listingDuration">Listing Duration (Days):</label>
                        <input type="number" id="listingDuration" name="listingDuration" min="1" max="365" value="7" required aria-required="true">

                        <button type="submit" class="web3-btn" aria-label="List NFT for sale">List NFT</button>
                    </form>
                </div>

                <h3 class="web3-subheading">NFTs from Marketplaces:</h3>
                <div id="marketplace-nft-list" class="content-area web3-content-area nft-grid">
                    <p class="placeholder-item web3-placeholder">Loading NFTs from Magic Eden...</p>
                </div>
            </div>
        </section>

        <section id="mint-nft-section" class="section web3-section">
            <div class="container">
                <h2 class="web3-heading">‚ú® Create Your Own NFT (Minting)</h2>
                <p>Unleash your creativity! Upload your artwork and mint it as a unique NFT on the Solana blockchain.</p>

                <div class="nft-form-container">
                    <form id="mintNftFormSection" class="web3-form" enctype="multipart/form-data">
                        <label for="nftFile">Upload Image/Video:</label>
                        <input type="file" id="nftFile" name="nftFile" accept="image/*,video/*" required aria-required="true">

                        <label for="mintNftName">NFT Name:</label>
                        <input type="text" id="mintNftName" name="mintNftName" placeholder="e.g., My Masterpiece #1" required aria-required="true">

                        <label for="mintNftDescription">Description:</label>
                        <textarea id="mintNftDescription" name="mintNftDescription" rows="4" placeholder="Tell us about your NFT..." required aria-required="true"></textarea>

                        <label for="mintNftAttributes">Attributes (e.g., "Background: Blue, Eyes: Green"):</label>
                        <textarea id="mintNftAttributes" name="mintNftAttributes" rows="3" placeholder="Enter attributes in JSON or plain text, e.g., {'Rarity': 'Rare', 'Type': 'Art'}"></textarea>
                        <small class="form-help-text">Please use JSON format for attributes for better compatibility.</small>

                        <button type="submit" class="web3-btn" aria-label="Mint NFT">Mint NFT</button>
                    </form>
                </div>
            </div>
        </section>

        <section id="ads-section" class="section web3-section">
            <div class="container">
                <h2 class="web3-heading">üì¢ Ads</h2>
                <p>Place your advertisements here!</p>
                <button id="postAdBtnWeb3" class="web3-btn" aria-label="Post a new advertisement">Post Ad</button>
                <div id="ad-list" class="content-area web3-content-area ad-list">
                    <p class="web3-placeholder">Loading Ads...</p>
                </div>
            </div>
        </section>

        <section id="dao-section" class="section web3-section-alt">
            <div class="container">
                <h2 class="web3-heading">üèõÔ∏è Decentralized Autonomous Organization (DAO)</h2>
                <p class="web3-intro">Participate in Aurum Fox governance! Create proposals, vote, and shape the future of the project.</p>

                <button id="connectWalletBtnDao" class="web3-btn" aria-label="Connect wallet to DAO section">Connect Wallet</button>
                <p class="web3-wallet-display">Your Wallet Address: <span id="walletAddressDisplayDao">Not Connected</span></p>

                <div class="dao-actions">
                    <button id="createProposalBtn" class="web3-btn" aria-label="Create new DAO proposal">Create Proposal</button>
                </div>

                <h3 class="web3-subheading">Active Proposals</h3>
                <div id="active-proposals-list" class="content-area web3-content-area dao-proposals-grid">
                    <div class="dao-proposal-item web3-placeholder">
                        <h4>Loading Proposal #1</h4>
                        <p>Description: Real-time DAO proposals are loading here.</p>
                        <p>Creator: <span class="dao-creator">...</span></p>
                        <p>Votes For: <span class="dao-votes-for">...</span> | Votes Against: <span class="dao-votes-against">...</span></p>
                        <button class="web3-btn dao-vote-btn" data-proposal-id="1" data-vote-type="for" aria-label="Vote FOR Proposal 1">Vote FOR</button>
                        <button class="web3-btn dao-vote-btn" data-proposal-id="1" data-vote-type="against" aria-label="Vote AGAINST Proposal 1">Vote AGAINST</button>
                    </div>
                </div>

                <h3 class="web3-subheading">Completed Proposals</h3>
                <div id="completed-proposals-list" class="content-area web3-content-area dao-proposals-grid">
                    <p class="web3-placeholder">No completed proposals yet.</p>
                </div>

                <div id="createProposalModal" class="modal" aria-modal="true" role="dialog" aria-labelledby="newProposalModalTitle" style="display:none;">
                    <div class="modal-content">
                        <span class="close-button" id="closeProposalModal" aria-label="Close create proposal modal">&times;</span>
                        <h3 id="newProposalModalTitle" class="web3-heading">Create New DAO Proposal</h3>
                        <form id="newProposalForm" class="web3-form">
                            <label for="proposalTitle">Proposal Title:</label>
                            <input type="text" id="proposalTitle" name="proposalTitle" placeholder="Enter proposal title" required aria-required="true">

                            <label for="proposalDescription">Proposal Description:</label>
                            <textarea type="text" id="proposalDescription" name="proposalDescription" rows="6" placeholder="Describe your proposal in detail..." required aria-required="true"></textarea>

                            <button type="submit" class="web3-btn" aria-label="Submit new proposal">Submit Proposal</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section id="staking-section" class="section web3-section">
            <div class="container">
                <h2 class="web3-heading">üí∞ AFOX Staking</h2>
                <p class="web3-intro">Stake your AFOX tokens to earn passive income and participate in project governance!</p>

                <div class="staking-info-grid">
                    <div class="info-card">
                        <h3>Your AFOX Balance</h3>
                        <p id="userAfoxBalance" class="info-value">0 AFOX</p>
                    </div>
                    <div class="info-card">
                        <h3>Your Staked Amount</h3>
                        <p id="userStakedAmount" class="info-value">0 AFOX</p>
                    </div>
                    <div class="info-card">
                        <h3>Accrued Rewards</h3>
                        <p id="userRewardsAmount" class="info-value">0 AFOX</p>
                    </div>
                    <div class="info-card">
                        <h3>Annual Percentage Rate (APR)</h3>
                        <p id="stakingApr" class="info-value">--%</p>
                    </div>
                </div>

                <div class="staking-actions">
                    <h3 class="web3-subheading">Stake AFOX</h3>
                    <div class="input-group">
                        <input type="number" id="stakeAmountInput" min="0.000001" step="0.000001" placeholder="Enter AFOX amount to stake" aria-label="Amount to stake">
                        <button id="stakeAfoxBtn" class="web3-btn" aria-label="Stake AFOX tokens">Stake</button>
                    </div>
                    
                    <h3 class="web3-subheading">Unstake AFOX (Withdraw)</h3>
                    <div class="input-group">
                        <input type="number" id="unstakeAmountInput" min="0.000001" step="0.000001" placeholder="Enter AFOX amount to unstake" aria-label="Amount to unstake">
                        <button id="unstakeAfoxBtn" class="web3-btn" aria-label="Unstake AFOX tokens">Unstake Tokens</button>
                    </div>
                    
                    <h3 class="web3-subheading">Claim Rewards</h3>
                    <button id="claimRewardsBtn" class="web3-btn" aria-label="Claim AFOX staking rewards">Claim Rewards</button>
                </div>

                <div class="staking-details">
                    <h3 class="web3-subheading">Staking Details</h3>
                    <ul>
                        <li><strong>Minimum staking amount:</strong> <span id="minStakeAmount">1 AFOX</span></li>
                        <li><strong>Lockup period:</strong> <span id="lockupPeriod">0 days (flexible)</span></li>
                        <li><strong>Early unstake fee:</strong> <span id="unstakeFee">0%</span></li>
                        <li><strong>Reward calculation:</strong> <span id="rewardCalculation">Daily</span></li>
                    </ul>
                    <p class="web3-note">Please connect your wallet to see live data and interact with staking.</p>
                </div>
            </div>
        </section>

        <section id="swap-section" class="section web3-section-alt">
            <div class="container">
                <h2 class="web3-heading">üîÑ AFOX Swap & Live Trading</h2>
                <p class="web3-intro">
                    Swap your AFOX tokens for SOL or other SPL tokens directly, and track the live market price!
                    For exchange, use **Jupiter Terminal** ‚Äî the best liquidity aggregator on Solana.
                </p>

                <div class="swap-interface">
                    <h3 class="web3-subheading">‚ö°Ô∏è Jupiter Terminal (AFOX Swap)</h3>
                    <p>Connect your wallet and swap AFOX at the best rate.</p>
                    
                    <div id="jupiter-swap-widget" style="min-height: 400px; max-width: 450px; margin: 20px auto; position: relative; z-index: 10000;">
                    </div>
                </div>
            </div>
        </section>
        
        <section id="ai-section" class="web3-section ai-insights-module" aria-labelledby="ai-insights-heading" style="display:none;">
            
            <h2 id="ai-insights-heading" class="aurum-heading">AI-Driven Insights</h2>
            
            <div id="ai-code-assistant" 
                 class="ai-diagnostic-tool"
                 role="region" aria-labelledby="ai-diagnostics-heading">
                
                <h3 id="ai-diagnostics-heading" class="ai-diagnostic-tool__heading">ü§ñ AI Code Assistant Diagnostics</h3>
                <p class="ai-diagnostic-tool__description">
                    Manually select a function and enter the error details, or paste a transaction ID for the AI to diagnose on-chain failures.
                </p>
                
                <div class="ai-diagnostic-tool__controls">
                    
                    <label for="functionSelector" class="visually-hidden">Select Broken Function</label>
                    <select id="functionSelector" 
                            class="ai-diagnostic-tool__selector"
                            aria-label="Select Broken Function">
                        <option value="">-- Select Broken Function --</option>
                        <option value="connectWallet">connectWallet()</option>
                        <option value="getQuote">getQuote() (Swap)</option>
                        <option value="executeSwap">executeSwap() (Swap)</option>
                        <option value="handleStakeAfox">handleStakeAfox() (Staking)</option>
                        <option value="handleClaimRewards">handleClaimRewards() (Staking)</option>
                        <option value="handleBuyNft">handleBuyNft() (NFT)</option>
                        <option value="handleTransferNft">handleTransferNft() (NFT)</option>
                    </select>
                    
                    <label for="issueDetailsInput" class="visually-hidden">Error Details or Transaction ID</label>
                    <input type="text" id="issueDetailsInput" 
                           class="ai-diagnostic-tool__input"
                           placeholder="Enter error details (e.g., 'RPC timeout') or a Transaction ID" 
                           aria-label="Error details or Transaction ID">
                    
                    <button id="runDiagnosticBtn" type="button" class="web3-btn ai-diagnostic-tool__button">
                        Run AI Diagnostic
                    </button>
                </div>

                <div id="aiCodeAssistantOutput" 
                     class="ai-diagnostic-tool__output"
                     role="status" aria-live="polite">
                    <p>Output will appear here after running a diagnostic.</p>
                </div>
            </div>
        </section>
        </main>

    <footer class="footer">
        <div class="container">
            <div class="geckoterminal-promo" style="margin-bottom: 15px;">
                <p style="font-size: 1.1em; font-weight: 600; margin-bottom: 5px;">Track AFOX Price on:</p>
                <a href="https://www.geckoterminal.com/solana/pools/FxkhmwaB144YDemgrfX4K5W2Jotz8YXaFpkMD4Pa9JKz" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   style="display: inline-block; padding: 10px 15px; background-color: #00bf75; color: #fff; border-radius: 8px; text-decoration: none; font-weight: bold; transition: background-color 0.3s;">
                    <img src="https://www.geckoterminal.com/favicon-16x16.png" alt="GeckoTerminal Logo" style="height: 16px; margin-right: 8px; vertical-align: middle;">
                    View on GeckoTerminal
                </a>
            </div>
            <p>&copy; 2025 Aurum Fox Unified Portal. All rights reserved.</p>
            <p>Created with ‚ù§Ô∏è for the Web3 community.</p>
            <p>Contract Address: <span id="footerContractAddress">GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd</span> <button class="copy-btn" aria-label="Copy AFOX contract address from footer">Copy</button></p>
            <button id="adminLoginBtn" class="web3-btn" style="background-color: #c0392b; color: #fff; border: none; margin-top: 15px;">üîí Admin Login</button>
        </div>
    </footer>

    <script src="https://terminal.jup.ag/main-v2.js" data-preload></script>

    <script>
        // 2. YOUR CONFIGURATION WITH KEYS
        const firebaseConfig = {
            // ... (Keys)
        };
        
        // 3. INITIALIZATION AND GLOBAL ACCESS
        const app = firebase.initializeApp(firebaseConfig);
        const db = app.firestore();
        const auth = app.auth();
        const storage = app.storage();
        
        // Making them available for script.js (which is included as type="module")
        window.db = db;
        window.auth = auth;
        window.storage = storage;
        window.firebase = firebase; 
        
        console.log("Firebase initialized and services are available globally.");

        const COLLECTIONS = {
            NEWS: 'news',
            ANNOUNCEMENTS: 'announcements',
            CONTACTS: 'contacts',
            GAMES: 'games',
            ADS: 'ads'
        };

        /**
         * Utility for displaying notifications (added here for usage)
         */
        function showNotification(message, type = 'info', duration = 3000) {
            const container = document.getElementById('notificationContainer');
            if (!container) return;

            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;

            // Styling (minimal, just for visibility)
            // ... (Styles)

            container.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 500);
            }, duration);
        }

        /**
         * 1. Real-time: Fetching and displaying News
         */
        function setupNewsListener() {
            const newsListElement = document.querySelector('.news-list');
            if (!newsListElement) return;

            db.collection(COLLECTIONS.NEWS)
                .orderBy('timestamp', 'desc')
                .limit(5)
                .onSnapshot(snapshot => { // <-- USING LISTENER
                    if (snapshot.empty) {
                        newsListElement.innerHTML = '<p>No news yet.</p>';
                        return;
                    }

                    let newsHtml = '';
                    snapshot.forEach(doc => {
                        const data = doc.data();
                        // NOTE: Date format localized for Russian, should be changed to 'en-US' for an English site
                        const date = data.timestamp ? new Date(data.timestamp.toDate()).toLocaleDateString('en-US') : 'Unknown date'; 
                        newsHtml += `
                            <div class="news-item">
                                <h4>${data.title || 'News Title'}</h4>
                                <p>${data.content || 'News content...'}</p>
                                <small>${date}</small>
                            </div>
                        `;
                    });
                    newsListElement.innerHTML = newsHtml;
                    console.log("News updated in real-time.");
                }, error => {
                    console.error("News listener error:", error);
                    newsListElement.innerHTML = '<p style="color: #e74c3c;">Failed to load real-time news.</p>';
                });
        }

        /**
         * 2. Real-time: Fetching and displaying Announcements
         */
        function setupAnnouncementsListener() {
            const announcementsListElement = document.getElementById('announcementsList');
            if (!announcementsListElement) return;

            db.collection(COLLECTIONS.ANNOUNCEMENTS)
                .orderBy('timestamp', 'desc')
                .limit(5)
                .onSnapshot(snapshot => { // <-- USING LISTENER
                    if (snapshot.empty) {
                        announcementsListElement.innerHTML = '<p class="web3-placeholder">No announcements yet.</p>';
                        return;
                    }

                    let annHtml = '';
                    snapshot.forEach(doc => {
                        const data = doc.data();
                        // NOTE: Date format localized for Russian, should be changed to 'en-US' for an English site
                        const date = data.timestamp ? new Date(data.timestamp.toDate()).toLocaleDateString('en-US') : 'Unknown date'; 
                        annHtml += `
                            <div class="announcement-item">
                                <h4>${data.title || 'Announcement Title'}</h4>
                                <p>${data.content || 'Announcement content...'}</p>
                                <small>${date}</small>
                            </div>
                        `;
                    });
                    announcementsListElement.innerHTML = annHtml;
                    console.log("Announcements updated in real-time.");
                }, error => {
                    console.error("Announcements listener error:", error);
                    announcementsListElement.innerHTML = '<p style="color: #e74c3c;">Failed to load real-time announcements.</p>';
                });
        }

        /**
         * 3. Publishing a New Announcement (Admin Function) - USES FIRESTORE
         */
        function handlePublishAnnouncement() {
            const publishButton = document.getElementById('publishButton');
            const announcementInput = document.getElementById('announcementInput');
            if (!publishButton || !announcementInput) return;

            publishButton.addEventListener('click', async () => {
                // ADMIN CHECK
                if (!auth.currentUser) {
                    showNotification("You must log in as an administrator to publish.", 'error');
                    return;
                }
                
                const content = announcementInput.value.trim();
                const title = content.split('\n')[0].substring(0, 50) + (content.length > 50 ? '...' : ''); 
                if (content.length < 10) {
                    showNotification("Announcement is too short.", 'warning');
                    return;
                }

                publishButton.disabled = true;
                publishButton.textContent = 'Publishing...';
                showNotification('Publishing announcement...', 'info');

                try {
                    await db.collection(COLLECTIONS.ANNOUNCEMENTS).add({
                        title: title,
                        content: content,
                        author: auth.currentUser ? auth.currentUser.email : 'Admin',
                        timestamp: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    
                    announcementInput.value = ''; 
                    showNotification("Announcement successfully published!", 'success');
                    // Listener will update the list automatically
                } catch (error) {
                    console.error("Error publishing announcement:", error);
                    showNotification("Publishing Error: " + error.message, 'error');
                } finally {
                    publishButton.disabled = false;
                    publishButton.textContent = 'Publish Announcement';
                }
            });
        }

        /**
         * 4. Contact Form Handling - USES FIRESTORE
         */
        function handleContactForm() {
            const contactForm = document.getElementById('contactForm');
            if (!contactForm) return;

            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(contactForm);
                const data = Object.fromEntries(formData.entries());

                const submitButton = contactForm.querySelector('button[type="submit"]');
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';
                showNotification('Sending message...', 'info');

                try {
                    await db.collection(COLLECTIONS.CONTACTS).add({
                        name: data.name,
                        email: data.email,
                        subject: data.subject,
                        message: data.message,
                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                        status: 'New'
                    });

                    showNotification("Your message has been successfully sent! We will contact you shortly.", 'success');
                    contactForm.reset();

                } catch (error) {
                    console.error("Error sending contact form:", error);
                    showNotification("Error sending message: " + error.message, 'error');
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Send Message';
                }
            });
        }
        
        /**
         * 5. Fetching Games/Ads List - USES FIRESTORE (ONE-TIME LOAD FOR NOW)
         */
         async function fetchContentList(collectionName, listElementId) {
            const listElement = document.getElementById(listElementId);
            if (!listElement) return;
            
            try {
                const snapshot = await db.collection(collectionName)
                    .orderBy('order', 'asc') 
                    .limit(10)
                    .get();

                if (snapshot.empty) {
                    listElement.innerHTML = `<p class="web3-placeholder">No data available in the ${collectionName} section yet.</p>`;
                    return;
                }

                let html = '';
                const itemClass = collectionName === COLLECTIONS.GAMES ? 'game' : 'ad';
                
                snapshot.forEach(doc => {
                    const data = doc.data();
                    html += `
                        <div class="placeholder-item web3-placeholder ${itemClass}">
                            <a href="${data.url || '#'}" target="_blank" rel="noopener noreferrer">
                                <strong>${data.title || 'No Title'}</strong>: ${data.description || 'Description not available.'}
                            </a>
                        </div>
                    `;
                });
                listElement.innerHTML = html;

            } catch (error) {
                console.error(`Error loading ${collectionName}:`, error);
                listElement.innerHTML = `<p style="color: #e74c3c;">Failed to load content.</p>`;
            }
        }

        // >>> ACCESS CONTROL AND LISTENER START LOGIC <<<
        document.addEventListener('DOMContentLoaded', () => {
            // Start real-time listeners
            setupNewsListener();
            setupAnnouncementsListener();
            
            handlePublishAnnouncement();
            handleContactForm();
            
            // Load content lists (one-time for now)
            fetchContentList(COLLECTIONS.GAMES, 'game-list');
            fetchContentList(COLLECTIONS.ADS, 'ad-list');

            // Get DOM elements for login
            const aiSection = document.getElementById('ai-section');
            const adminLoginBtn = document.getElementById('adminLoginBtn');
            const loginModal = document.getElementById('adminLoginModal');
            const closeLoginModal = document.getElementById('closeAdminLoginModal');
            const loginForm = document.getElementById('loginForm');

            function toggleAdminTools(isVisible) {
                if (aiSection) {
                    aiSection.style.display = isVisible ? 'block' : 'none';
                }
                if (adminLoginBtn) {
                    // Login button is hidden if the user is logged in
                    adminLoginBtn.style.display = isVisible ? 'none' : 'block';
                }
            }
            
            // MODAL HANDLERS
            if (adminLoginBtn) {
                adminLoginBtn.onclick = () => {
                    loginModal.style.display = 'block';
                };
            }
            if (closeLoginModal) {
                closeLoginModal.onclick = () => {
                    loginModal.style.display = 'none';
                };
            }

            // FIREBASE AUTH STATUS CHECK
            if (typeof auth !== 'undefined') {
                auth.onAuthStateChanged(user => {
                    if (user) {
                        // 1. USER LOGGED IN: Show tools
                        toggleAdminTools(true);
                        loginModal.style.display = 'none'; // Hide modal if open
                        showNotification(`Welcome, ${user.email.split('@')[0]}!`, 'success');
                    } else {
                        // 2. USER LOGGED OUT: Hide tools
                        toggleAdminTools(false);
                    }
                });
            }

            // LOGIN FORM SUBMISSION
            if (loginForm) {
                loginForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const email = document.getElementById('adminEmail').value;
                    const password = document.getElementById('adminPassword').value;
                    
                    try {
                        // Firebase authentication call
                        await auth.signInWithEmailAndPassword(email, password);
                        // On success, onAuthStateChanged will automatically update the section
                    } catch (error) {
                        console.error("Login Error:", error);
                        showNotification(`Login Error: ${error.message.replace('Firebase:', '').trim()}`, 'error', 5000);
                    }
                });
            }
        });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const runDiagnosticBtn = document.getElementById('runDiagnosticBtn');
            const functionSelector = document.getElementById('functionSelector');
            const issueDetailsInput = document.getElementById('issueDetailsInput');
            const outputDiv = document.getElementById('aiCodeAssistantOutput');

            runDiagnosticBtn.addEventListener('click', () => {
                // ADMIN CHECK: Ensure user is authorized
                if (typeof auth === 'undefined' || !auth.currentUser) {
                     outputDiv.innerHTML = `<p style="color: #e74c3c; font-weight: bold;">Error: Access Restricted. Please log in as an administrator to run diagnostics.</p>`;
                    return;
                }
                
                const selectedFunction = functionSelector.value;
                const issueDetails = issueDetailsInput.value.trim();
                const errorColor = '#e74c3c'; 

                if (!selectedFunction && !issueDetails) {
                    outputDiv.innerHTML = `<p style="color: ${errorColor}; font-weight: bold;">Error: Please select a function OR enter error details/Transaction ID.</p>`;
                    return;
                }

                outputDiv.innerHTML = `<p style="color: #ffd700;">Analyzing problem for ${selectedFunction || 'Transaction ID'} with details: "${issueDetails}"...</p>`;

                // --- Simulation of AI Backend Response ---
                setTimeout(() => {
                    let diagnosticMessage = '';
                    const baseIssue = issueDetails.toLowerCase();

                    if (baseIssue.includes("rpc timeout")) {
                        diagnosticMessage = `**Diagnosis: RPC Timeout**
**Function:** ${selectedFunction || 'General Transaction'}
**Reason:** The connection to the Solana network node timed out. This often occurs due to network congestion.
**Solution:** Try the transaction again. If the issue persists, switch your RPC provider in your wallet settings.`;
                    } else if (baseIssue.includes("failed to deserialize") || baseIssue.includes("invalid account data")) {
                        diagnosticMessage = `**Diagnosis: Invalid Account Data**
**Function:** ${selectedFunction}
**Reason:** The transaction attempted to use account data that has an incorrect structure (e.g., an invalid SPL token account).
**Solution:** Clear your wallet's cache, restart it, and try again. For NFTs, ensure the mint address is correct.`;
                    } else if (baseIssue.includes("insufficient funds") || baseIssue.includes("low sol balance")) {
                        diagnosticMessage = `**Diagnosis: Insufficient Funds**
**Function:** ${selectedFunction || 'General Transaction'}
**Reason:** Not enough **SOL** to cover the transaction fee (gas) OR not enough of the required AFOX/token to perform the operation.
**Solution:** Fund your wallet with **SOL** for gas and ensure you have enough of the necessary tokens.`;
                    } else if (baseIssue.includes("custom program error: 0x")) {
                         diagnosticMessage = `**Diagnosis: Custom Program Error**
**Function:** ${selectedFunction}
**Reason:** The smart contract executed but violated a specific rule (Error Code: ${issueDetails.split('0x')[1].split(' ')[0]}). Check conditions (e.g., staking lockup period).
**Solution:** Check the function requirements (e.g., minimum amount or lockup period) and try again.`;
                    } else if (baseIssue.length > 50) { 
                        diagnosticMessage = `**Diagnosis: General Transaction Review**
**Function:** ${selectedFunction || 'Transaction ID'}
**Reason:** The detailed error is complex. The AI recommends checking the transaction on Solscan/Solana Explorer for a deeper log.
**Solution:** Paste the full transaction ID into Solscan.io. If this is a recurring error, report it to the Aurum Fox team.`;
                    } else {
                        diagnosticMessage = `**Diagnosis: Unknown or General Failure**
**Function:** ${selectedFunction || 'General'}
**Reason:** An unspecified error occurred. This could be a temporary network glitch or a wallet connection issue.
**Solution:** Clear your browser cache, refresh the page, reconnect your wallet, and repeat the operation.`;
                    }

                    outputDiv.innerHTML = `
                        <p style="color: #ffd700; font-weight: bold;">AI Diagnostic Result:</p>
                        <div style="padding: 10px; border-left: 3px solid #ffd700; background-color: rgba(255, 215, 0, 0.05);">
                            ${diagnosticMessage.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}
                        </div>
                    `;
                }, 1500); // Simulate AI processing delay
            });
        });
    </script>


    <script type="module">
        const AFOX_MINT = 'GLkewtq8s2Yr24o5LT5mzzEeccKuSsy8H5RCHaE9uRAd';
        const SOL_MINT = 'So11111111111111111111111111111111111111112';

        let birdeyeContainer = null;
        let birdeyeParent = null;

        /**
         * Initializes Jupiter Terminal with the function to physically remove Birdeye.
         */
        function initializeJupiterTerminal() {
            birdeyeContainer = document.getElementById('afoxChartContainer'); 
            if (birdeyeContainer) {
                birdeyeParent = birdeyeContainer.parentNode; 
            }

            if (window.Jupiter && document.getElementById('jupiter-swap-widget')) {
                // Function for complete removal of Birdeye
                const removeBirdeye = () => {
                    if (birdeyeContainer && birdeyeParent && birdeyeParent.contains(birdeyeContainer)) {
                        birdeyeParent.removeChild(birdeyeContainer);
                        console.log("Birdeye chart **removed** for wallet connection.");
                    }
                };

                // Function to restore Birdeye
                const restoreBirdeye = () => {
                    if (birdeyeContainer && birdeyeParent && !birdeyeParent.contains(birdeyeContainer)) {
                        birdeyeParent.appendChild(birdeyeContainer); 
                        console.log("Birdeye chart **restored** after wallet connection.");
                    }
                };

                window.Jupiter.init({
                    displayMode: 'widget',
                    widgetStyle: {
                        'container.id': 'jupiter-swap-widget', 
                        'container.zIndex': 9999, 
                    },
                    theme: 'dark', 
                    formProps: {
                        fixedInputMint: true, 
                        initialInputMint: AFOX_MINT,
                        initialOutputMint: SOL_MINT,
                    },
                    swapSwitchboard: true, 
                    strictTokenList: false, 

                    onConnectWallet: (callback) => {
                        removeBirdeye(); 
                        setTimeout(callback, 50); 
                    },

                    onSuccess: () => {
                         restoreBirdeye();
                    },
                    
                    onError: () => {
                         restoreBirdeye();
                    }
                });
                console.log("Jupiter Terminal initialized with DOM manipulation fixes.");
            } else {
                setTimeout(initializeJupiterTerminal, 500);
            }
        }

        document.addEventListener('DOMContentLoaded', initializeJupiterTerminal);
    </script>
    
    <script src="script.js" type="module"></script>
</body>
</html>
