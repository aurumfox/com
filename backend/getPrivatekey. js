const { Keypair } = require('@solana/web3.js');
const bs58 = require('bs58');
const readline = require('readline').createInterface({
    input: process.stdin,
    output: process.stdout
});

const getPrivateKey = () => {
    readline.question('Введите вашу мнемоническую фразу: ', phrase => {
        try {
            const keypair = Keypair.fromSeed(Buffer.from(phrase.split(' ')));
            const privateKeyBase58 = bs58.encode(keypair.secretKey);
            console.log('\nВаш приватный ключ в Base58 (скопируйте его):');
            console.log(privateKeyBase58);
            console.log('\nТеперь добавьте его в ваш .env файл как BACKEND_MINT_AUTHORITY_SECRET_KEY');
        } catch (e) {
            console.error('Ошибка: Неверная мнемоническая фраза. Попробуйте еще раз.');
        }
        readline.close();
    });
};

getPrivateKey();
